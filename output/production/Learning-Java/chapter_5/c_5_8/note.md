

## 数组初始化

在C 中初始化数组极易出错，而且相当麻烦。C++通过“集合初始化”使其更安全（注释⑥）。Java 则没有象C++那样的“集合”概念，因为Java 中的所有东西都是对象。但它确实有自己的数组，通过数组初始化来

提供支持。

数组代表一系列对象或者基本数据类型，所有相同的类型都封装到一起——采用一个统一的标识符名称。数组的定义和使用是通过方括号索引运算符进行的（[]）。为定义一个数组，只需在类型名后简单地跟随一对空方括号即可：

int[] al;

也可以将方括号置于标识符后面，获得完全一致的结果：

int al[];

**这种格式与 C和 C++程序员习惯的格式是一致的。然而，最“通顺”的也许还是前一种语法，因为它指出类型是“一个 int 数组”。本书将沿用那种格式。**


编译器不允许我们告诉它一个数组有多大。这样便使我们回到了“句柄”的问题上。此时，我们拥有的一切就是指向数组的一个句柄，而且尚未给数组分配任何空间。为了给数组创建相应的存储空间，必须编写一个

初始化表达式。对于数组，初始化工作可在代码的任何地方出现，但也可以使用一种特殊的初始化表达式，它必须在数组创建的地方出现。这种特殊的初始化是一系列由花括号封闭起来的值。存储空间的分配（等价

于使用new）将由编译器在这种情况下进行。例如：

int[] a1 = { 1, 2, 3, 4, 5 };

那么为什么还要定义一个没有数组的数组句柄呢？

int[] a2;

事实上在Java 中，可将一个数组分配给另一个，所以能使用下述语句：

a2 = a1;

